"use strict";(self.webpackChunkaptos_docs=self.webpackChunkaptos_docs||[]).push([[6719],{68211:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>l});var n=t(63159),i=t(83581);t(3688);const o={title:"Compiling Move Scripts"},c="How can I compile Move Scripts?",r={id:"move/move-on-aptos/scripts/compiling-scripts",title:"Compiling Move Scripts",description:"Move scripts can be compiled with the already existing Aptos Move compiler in",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/move/move-on-aptos/scripts/compiling-scripts.md",sourceDirName:"move/move-on-aptos/scripts",slug:"/move/move-on-aptos/scripts/compiling-scripts",permalink:"/move/move-on-aptos/scripts/compiling-scripts",draft:!1,unlisted:!1,editUrl:"https://github.com/aptos-labs/developer-docs/edit/main/apps/docusaurus/docs/move/move-on-aptos/scripts/compiling-scripts.md",tags:[],version:"current",lastUpdatedAt:1713276994,formattedLastUpdatedAt:"2024\u5e744\u670816\u65e5",frontMatter:{title:"Compiling Move Scripts"},sidebar:"appSidebar",previous:{title:"Writing Move Scripts",permalink:"/move/move-on-aptos/scripts/writing-scripts"},next:{title:"Running Move Scripts",permalink:"/move/move-on-aptos/scripts/running-scripts"}},a={},l=[];function p(e){const s={code:"code",h1:"h1",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"how-can-i-compile-move-scripts",children:"How can I compile Move Scripts?"}),"\n",(0,n.jsx)(s.p,{children:"Move scripts can be compiled with the already existing Aptos Move compiler in\nthe Aptos CLI. Simply create a script file and compile it in the package with:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"aptos move compile\n"})}),"\n",(0,n.jsxs)(s.p,{children:["There will then be compiled bytecode files under ",(0,n.jsx)(s.code,{children:"build/"})," with the same name as\nthe function in Move."]}),"\n",(0,n.jsxs)(s.p,{children:["For example this script in package ",(0,n.jsx)(s.code,{children:"transfer_half"}),", would compile\nto ",(0,n.jsx)(s.code,{children:"build/transfer_half/bytecode_scripts/transfer_half.mv"})]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-move",children:"script {\n  use std::signer;\n  use aptos_framework::coin;\n  use aptos_framework::aptos_account;\n\n  fun transfer_half<Coin>(caller: &signer, receiver_address: address) {\n    // Retrieve the balance of the caller\n    let caller_address: address = signer::address_of(caller);\n    let balance: u64 = coin::balance<Coin>(caller_address);\n\n    // Send half to the receiver\n    let half = balance / 2;\n    aptos_account::transfer_coins<Coin>(caller, receiver_address, half);\n  }\n}\n"})}),"\n",(0,n.jsx)(s.p,{children:"Additionally, there is a convenience function for a package with exactly one\nscript with the below command:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"aptos move compile-script\n"})}),"\n",(0,n.jsx)(s.p,{children:"Providing output like below returning the exact location of the script and a\nhash for convenience"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:'Compiling, may take a little while to download git dependencies...\nUPDATING GIT DEPENDENCY https://github.com/aptos-labs/aptos-core.git\nINCLUDING DEPENDENCY AptosFramework\nINCLUDING DEPENDENCY AptosStdlib\nINCLUDING DEPENDENCY MoveStdlib\nBUILDING transfer_half\n{\n  "Result": {\n    "script_location": "/opt/git/developer-docs/apps/docusaurus/static/move-examples/scripts/transfer_half/script.mv",\n    "script_hash": "9b57ffa952da2a35438e2cf7e941ef2120bb6c2e4674d4fcefb51d5e8431a148"\n  }\n}\n'})})]})}function d(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}}}]);